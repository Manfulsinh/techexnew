<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./js/edit.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Document</title>
</head>
<body>

    <div class="navbar navbar-dark bg-dark">
        <div class="arrow-icon d-flex align-items-center justify-content-center">
            
            <i id="back-icon" class="fa-solid fa-chevron-left"></i>
        </div> 
      
       <h1 class="pro">Profile</h1>

        <div class="switch-icon d-flex align-items-center justify-content-center" id="signOutBtn">
            <i class="fas fa-power-off"></i> 
        </div>
    
    </div>
    
    <div class="container-s">
        
        <div class="avatar-upload">
           
            <div class="avatar-preview">
                <img id="imagePreview" src="" />
          </img>
          <h1 class="tag" id="profileusername"></h1>

            </div>
        </div>
    </div>

     <div class="notification">
        <div class="notification-icon">
        <i class="fa-solid fa-bell"></i>
       
        </div>
        <div class="notification-text">
            <p class="noti">Notifications</p>
        </div>
        <div class="notification-switch">
            <label class="switch">
                <input type="checkbox" id="notificationToggle" onclick="toggleNotification()">
                <span class="slider"></span>
            </label>
        </div>
    </div>  

     <div class="update-profile">
        <button class="btn-update-profile-3">Update Profile</button>
    </div>    

    
    
    
   



    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
 
     
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js";
        import {
          getAuth,
          signInWithPopup,
          GoogleAuthProvider,
          FacebookAuthProvider,
          signOut
        } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js";
      
            const firebaseConfig = {
              apiKey: "AIzaSyDrUOrEvp3T277JmKPOWVAZ90gBIKC9S50",
              authDomain: "fir-b6449.firebaseapp.com",
              projectId: "fir-b6449",
              storageBucket: "fir-b6449.appspot.com",
              messagingSenderId: "511184942927",
              appId: "1:511184942927:web:debcb811d15856fd86b73a",
              measurementId: "G-2TM34PV1YN"
            };

            const app = initializeApp(firebaseConfig);
  const auth = getAuth(app); // Make sure you getAuth with the initialized app

  // After DOM Content is loaded, attach your event listeners
  document.addEventListener("DOMContentLoaded", function() {
    const imageUpload = document.getElementById("imageUpload");
    const imagePreview = document.getElementById("imagePreview");
    const userpreview = document.getElementById('profileusername');
    const photourl = localStorage.getItem('photoURL');
    const username = localStorage.getItem('Name');
    
    imagePreview.src = photourl; // This should be enough, no need to set it twice
    userpreview.textContent = username; // Use textContent for plain text
  });

  // Sign Out Event
  document.getElementById("signOutBtn").addEventListener("click", function() {
    signOut(auth).then(function() { // Use the imported signOut method
      localStorage.setItem("isLogin", "false");
      window.location.href = "index.html"; // Redirect to login page
    }).catch(function(error) {
      console.error("Sign Out Error", error);
    });
  });

  // Back Event
  document.getElementById("back-icon").addEventListener("click", function() {
    window.location.href = "chat.html";
  });
</script> 



</body>
</html>